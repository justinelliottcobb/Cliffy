(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const _ of o.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&n(_)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();let i;function Y(e){const t=i.__externref_table_alloc();return i.__wbindgen_externrefs.set(t,e),t}function X(e){if(typeof e!="boolean")throw new Error(`expected a boolean argument, found ${typeof e}`)}function A(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function c(e){if(typeof e!="number")throw new Error(`expected a number argument, found ${typeof e}`)}const L=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));let w=null;function j(){return(w===null||w.buffer.detached===!0||w.buffer.detached===void 0&&w.buffer!==i.memory.buffer)&&(w=new DataView(i.memory.buffer)),w}function D(e,t){return e=e>>>0,H(e,t)}let y=null;function C(){return(y===null||y.byteLength===0)&&(y=new Uint8Array(i.memory.buffer)),y}function I(e,t){try{return e.apply(this,t)}catch(r){const n=Y(r);i.__wbindgen_exn_store(n)}}function x(e,t){try{return e.apply(this,t)}catch(r){let n=function(){try{return r instanceof Error?`${r.message}

Stack:
${r.stack}`:r.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",n),r}}function G(e,t,r,n){const s={a:e,b:t,cnt:1,dtor:r},o=(..._)=>{s.cnt++;try{return n(s.a,s.b,..._)}finally{o._wbg_cb_unref()}};return o._wbg_cb_unref=()=>{--s.cnt===0&&(s.dtor(s.a,s.b),s.a=0,L.unregister(s))},L.register(o,s,s),o}function J(e,t,r){if(typeof e!="string")throw new Error(`expected a string argument, found ${typeof e}`);if(r===void 0){const u=E.encode(e),d=t(u.length,1)>>>0;return C().subarray(d,d+u.length).set(u),T=u.length,d}let n=e.length,s=t(n,1)>>>0;const o=C();let _=0;for(;_<n;_++){const u=e.charCodeAt(_);if(u>127)break;o[s+_]=u}if(_!==n){_!==0&&(e=e.slice(_)),s=r(s,n,n=_+e.length*3,1)>>>0;const u=C().subarray(s+_,s+n),d=E.encodeInto(e,u);if(d.read!==e.length)throw new Error("failed to pass whole string");_+=d.written,s=r(s,n,_,1)>>>0}return T=_,s}function g(e){const t=i.__wbindgen_externrefs.get(e);return i.__externref_table_dealloc(e),t}let O=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});O.decode();const K=2146435072;let W=0;function H(e,t){return W+=t,W>=K&&(O=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),O.decode(),W=t),O.decode(C().subarray(e,e+t))}const E=new TextEncoder;"encodeInto"in E||(E.encodeInto=function(e,t){const r=E.encode(e);return t.set(r),{read:e.length,written:r.length}});let T=0;function Q(e,t,r){c(e),c(t),i.wasm_bindgen__convert__closures_____invoke__h616a2fe72366c77a(e,t,r)}const B=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>i.__wbg_behavior_free(e>>>0,1)),k=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>i.__wbg_event_free(e>>>0,1)),M=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>i.__wbg_subscription_free(e>>>0,1));let f=class v{static __wrap(t){t=t>>>0;const r=Object.create(v.prototype);return r.__wbg_ptr=t,B.register(r,r.__wbg_ptr,r),r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,B.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_behavior_free(t,0)}map(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const r=i.behavior_map(this.__wbg_ptr,t);if(r[2])throw g(r[1]);return v.__wrap(r[0])}constructor(t){const r=i.behavior_new(t);return this.__wbg_ptr=r>>>0,B.register(this,this.__wbg_ptr,this),this}set(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr),i.behavior_set(this.__wbg_ptr,t)}sample(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return c(this.__wbg_ptr),i.behavior_sample(this.__wbg_ptr)}update(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const r=i.behavior_update(this.__wbg_ptr,t);if(r[1])throw g(r[0])}combine(t,r){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(c(this.__wbg_ptr),A(t,v),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const n=i.behavior_combine(this.__wbg_ptr,t.__wbg_ptr,r);if(n[2])throw g(n[1]);return v.__wrap(n[0])}subscribe(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const r=i.behavior_subscribe(this.__wbg_ptr,t);return R.__wrap(r)}};Symbol.dispose&&(f.prototype[Symbol.dispose]=f.prototype.free);let F=class p{static __wrap(t){t=t>>>0;const r=Object.create(p.prototype);return r.__wbg_ptr=t,k.register(r,r.__wbg_ptr,r),r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_event_free(t,0)}map(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const r=i.event_map(this.__wbg_ptr,t);return p.__wrap(r)}constructor(){const t=i.event_new();return this.__wbg_ptr=t>>>0,k.register(this,this.__wbg_ptr,this),this}emit(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr),i.event_emit(this.__wbg_ptr,t)}fold(t,r){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const n=i.event_fold(this.__wbg_ptr,t,r);if(n[2])throw g(n[1]);return f.__wrap(n[0])}merge(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(c(this.__wbg_ptr),A(t,p),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const r=i.event_merge(this.__wbg_ptr,t.__wbg_ptr);return p.__wrap(r)}filter(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const r=i.event_filter(this.__wbg_ptr,t);return p.__wrap(r)}subscribe(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr);const r=i.event_subscribe(this.__wbg_ptr,t);return R.__wrap(r)}};Symbol.dispose&&(F.prototype[Symbol.dispose]=F.prototype.free);let R=class U{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const r=Object.create(U.prototype);return r.__wbg_ptr=t,M.register(r,r.__wbg_ptr,r),r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,M.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_subscription_free(t,0)}unsubscribe(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");c(this.__wbg_ptr),i.subscription_unsubscribe(this.__wbg_ptr)}};Symbol.dispose&&(R.prototype[Symbol.dispose]=R.prototype.free);function Z(e,t,r){if(A(e,f),e.__wbg_ptr===0)throw new Error("Attempt to use a moved value");if(A(t,f),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const n=i.combine(e.__wbg_ptr,t.__wbg_ptr,r);if(n[2])throw g(n[1]);return f.__wrap(n[0])}function tt(e,t,r){if(A(e,f),e.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const n=i.ifElse(e.__wbg_ptr,t,r);if(n[2])throw g(n[1]);return f.__wrap(n[0])}const et=new Set(["basic","cors","default"]);async function rt(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if(e.ok&&et.has(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function nt(){const e={};return e.wbg={},e.wbg.__wbg___wbindgen_is_falsy_7b9692021c137978=function(t){const r=!t;return X(r),r},e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(t,r){throw new Error(D(t,r))},e.wbg.__wbg_call_3020136f7a2d6e44=function(){return I(function(t,r,n){return t.call(r,n)},arguments)},e.wbg.__wbg_call_abb4ff46ce38be40=function(){return I(function(t,r){return t.call(r)},arguments)},e.wbg.__wbg_call_c8baa5c5e72d274e=function(){return I(function(t,r,n,s){return t.call(r,n,s)},arguments)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(){return x(function(t,r){let n,s;try{n=t,s=r,console.error(D(t,r))}finally{i.__wbindgen_free(n,s,1)}},arguments)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return x(function(){return new Error},arguments)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(){return x(function(t,r){const n=r.stack,s=J(n,i.__wbindgen_malloc,i.__wbindgen_realloc),o=T;j().setInt32(t+4*1,o,!0),j().setInt32(t+4*0,s,!0)},arguments)},e.wbg.__wbindgen_cast_4856034f647b5cca=function(){return x(function(t,r){return G(t,r,i.wasm_bindgen__closure__destroy__h0e74ad10628768ff,Q)},arguments)},e.wbg.__wbindgen_init_externref_table=function(){const t=i.__wbindgen_externrefs,r=t.grow(4);t.set(0,void 0),t.set(r+0,void 0),t.set(r+1,null),t.set(r+2,!0),t.set(r+3,!1)},e}function st(e,t){return i=e.exports,$.__wbindgen_wasm_module=t,w=null,y=null,i.__wbindgen_start(),i}async function $(e){if(i!==void 0)return i;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("/assets/cliffy_wasm_bg-rCd3g7tY.wasm",import.meta.url));const t=nt();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:n}=await rt(await e,t);return st(r,n)}function S(e,t){return e.textContent=String(t.sample()),t.subscribe(r=>{e.textContent=String(r)})}function it(e,t,r){const n=s=>{e.classList.toggle(t,s)};return n(r.sample()),r.subscribe(n)}function ot(e,t,r){const n=at();return e.addEventListener(t,s=>n.emit(s),r),n}function m(e){return ot(e,"click")}class _t{subscriptions=[];cleanups=[];add(t){this.subscriptions.push(t)}addCleanup(t){this.cleanups.push(t)}dispose(){for(const t of this.subscriptions)t.unsubscribe();for(const t of this.cleanups)t();this.subscriptions=[],this.cleanups=[]}}const ct=$;class b{inner;constructor(t){this.inner=new f(t)}static fromWasm(t){const r=Object.create(b.prototype);return r.inner=t,r}sample(){return this.inner.sample()}set(t){this.inner.set(t)}update(t){this.inner.update(t)}subscribe(t){const r=this.inner.subscribe(t);return new P(r)}map(t){const r=this.inner.map(t);return b.fromWasm(r)}combine(t,r){const n=this.inner.combine(t.inner,r);return b.fromWasm(n)}get _wasm(){return this.inner}}class l{inner;constructor(){this.inner=new F}static fromWasm(t){const r=Object.create(l.prototype);return r.inner=t,r}emit(t){this.inner.emit(t)}subscribe(t){const r=this.inner.subscribe(t);return new P(r)}map(t){const r=this.inner.map(t);return l.fromWasm(r)}filter(t){const r=this.inner.filter(t);return l.fromWasm(r)}merge(t){const r=this.inner.merge(t.inner);return l.fromWasm(r)}fold(t,r){const n=this.inner.fold(t,r);return b.fromWasm(n)}get _wasm(){return this.inner}}class P{inner;constructor(t){this.inner=t}unsubscribe(){this.inner.unsubscribe()}}function z(e){return new b(e)}function at(){return new l}function ut(e,t,r){const n=tt(e._wasm,t,r);return b.fromWasm(n)}function ft(e,t,r){const n=Z(e._wasm,t._wasm,r);return b.fromWasm(n)}await ct();console.log("Cliffy initialized!");const a=new _t,h=z(0),bt=h.map(e=>e*2),N=h.map(e=>e%2===0),wt=ut(N,()=>"even",()=>"odd"),V=z(100),q=z(50),dt=ft(V,q,(e,t)=>e*t);a.add(S(document.getElementById("count"),h));a.add(S(document.getElementById("doubled"),bt));a.add(S(document.getElementById("parity"),wt));a.add(S(document.getElementById("area"),dt));a.add(it(document.getElementById("count"),"even",N));const pt=m(document.getElementById("increment")),lt=m(document.getElementById("decrement")),gt=m(document.getElementById("reset"));a.add(pt.subscribe(()=>h.update(e=>e+1)));a.add(lt.subscribe(()=>h.update(e=>e-1)));a.add(gt.subscribe(()=>h.set(0)));const mt=m(document.getElementById("widthUp")),ht=m(document.getElementById("heightUp"));a.add(mt.subscribe(()=>V.update(e=>e+10)));a.add(ht.subscribe(()=>q.update(e=>e+10)));const yt=m(document.getElementById("clickTarget")),vt=yt.fold(0,(e,t)=>e+1);a.add(S(document.getElementById("clickCount"),vt));console.log("Counter-101 ready!");
